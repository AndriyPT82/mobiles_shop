(this.webpackJsonpmobiles_shop=this.webpackJsonpmobiles_shop||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(21),r=c.n(s),i=c(8),l=(c(29),c(4)),o=c(15),j=c(2),u=(c(30),c(0)),d=function(){return Object(u.jsx)("div",{className:"menu",children:Object(u.jsx)("div",{className:"menu__content",children:Object(u.jsx)("a",{className:"menu__close",href:"",children:"X"})})})},b=c(18),h=c.n(b),O=c(10),m=c(22),f=function(){var e=Object(m.a)(h.a.mark((function e(){var t,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/phone-catalogue-static/api/phones.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,a=c.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{price:+(1e3*Math.random()).toFixed(2)})})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=(c(33),c(9)),x=c.n(p),v=(c(34),function(e){var t=e.setOpenSearchField,c=Object(a.useState)(null),n=Object(l.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),d=o[0],b=o[1],h=Object(j.h)(),O=Object(j.g)(),m=new URLSearchParams(h.search);Object(a.useEffect)((function(){setTimeout((function(){b(!0)}),0)}),[]),Object(a.useEffect)((function(){null!==s&&f(s.toLowerCase())}),[s]);var f=Object(a.useCallback)(function(e){var t;return function(c){clearTimeout(t),t=setTimeout((function(){return e(c)}),500)}}((function(e){e?m.set("query",e):m.delete("query");var t=e?"search":"/";O.push("".concat(t,"?").concat(m.toString()))})),[]);return Object(u.jsxs)("div",{className:x()("search-field",{"search-field--active":d}),id:"search",children:[Object(u.jsx)("input",{type:"text",className:"search-field__input",autoFocus:!0,value:s||"",placeholder:"input query...",onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("button",{className:"search-field__close",onClick:function(){b(!1),setTimeout((function(){return t(!1)}),500)},children:"\u2715"})]})}),_=(c(40),function(){var e=Object(j.h)(),t=Object(j.g)(),c=new URLSearchParams(e.search),a="".concat(c.get("sort"),".").concat(c.get("order"));return Object(u.jsx)("div",{className:"sort-select",children:Object(u.jsxs)("select",{onChange:function(a){var n=a.target.value.split("."),s=Object(l.a)(n,2),r=s[0],i=s[1];c.set("sort",r),c.set("order",i);var o=e.pathname;t.push("".concat(o,"?").concat(c.toString()))},defaultValue:a,children:[Object(u.jsx)("option",{value:"name.desc",children:" name \u1401 "}),Object(u.jsx)("option",{value:"name.asc",children:" name \u1403 "}),Object(u.jsx)("option",{value:"price.desc",children:" price \u1401 "}),Object(u.jsx)("option",{value:"price.asc",children:" price \u1403 "})]})})}),g=(c(41),function(e){var t=e.setQueryResult,c=e.setOpenSearchField,a=Object(j.g)(),n=Object(j.h)(),s=new URLSearchParams(n.search),r=s.get("query")||"",i=function(){t([]),s.delete("query"),a.push("/mobiles?".concat(s.toString())),c(!1)};return Object(u.jsxs)("div",{className:"tabs",children:[Object(u.jsx)("span",{className:x()("tabs__tab",{"tabs__tab--active":!r.length}),onClick:i,children:"Home"}),Object(u.jsxs)("span",{className:x()("tabs__tab",{"tabs__tab--active":r.length}),hidden:!r,children:[Object(u.jsx)("span",{className:"tabs__tab--close",onClick:i,children:"\u2715"}),(r||"").length>10?r.slice(0,10)+"...":r]})]})}),N=(c(42),function(e){var t=e.setOpenCart,c=Object(a.useContext)(F).setOpenSearchField;return Object(u.jsxs)("div",{className:"navbar",children:[Object(u.jsxs)("div",{className:"navbar__navigation",children:[Object(u.jsx)(i.b,{to:"/menu",className:"navbar__menu",children:"\u2630"}),Object(u.jsx)("img",{className:"navbar__search",onClick:function(){return c(!0)},src:"https://www.toptal.com/designers/htmlarrows/assets/images/search-button-c0042ed6.svg",alt:""})]}),Object(u.jsx)("div",{className:"navbar__logo",children:Object(u.jsx)(i.b,{to:"/",children:"STORE"})}),Object(u.jsxs)("div",{className:"navbar__orders",children:[Object(u.jsx)("a",{href:"tel:+351910342177",className:"navbar__call",children:"\u260e"}),Object(u.jsx)("div",{className:"navbar__basket",onClick:function(){return t(!0)},children:"\ud83d\uddd1"})]})]})}),C=(c(43),function(e){var t=e.name,c=e.imageUrl,a=e.price,n=e.id;return Object(u.jsxs)(i.b,{className:"card",to:"/mobile/".concat(n),children:[Object(u.jsx)("img",{src:"https://mate-academy.github.io/phone-catalogue-static/".concat(c),alt:t,className:"card__image"}),Object(u.jsx)("span",{className:"card__title",children:t}),Object(u.jsxs)("span",{className:"card__price",children:["Price: $",a]})]})}),S=(c(44),function(e){var t=e.mobiles;return Object(u.jsx)("ul",{className:"cards",children:t.length?t.map((function(e){return Object(u.jsx)(n.a.Fragment,{children:Object(u.jsx)(C,Object(O.a)({},e))},e.age)})):Object(u.jsx)("p",{children:" Not Found"})})}),y=(c(45),c(46),function(e){var t=e.handleClick,c=Object(a.useState)(null),n=Object(l.a)(c,2),s=n[0],r=n[1],i=Object(a.useContext)(F),d=i.mobiles,b=i.setCart,h=i.cart,O=Object(j.i)().mobileId;if(Object(a.useEffect)((function(){var e=d.find((function(e){return e.id===O}));r(e)})),!s)return Object(u.jsx)("h2",{children:"Not Found"});var m=s.id,f=s.imageUrl,p=s.name,x=s.price,v=s.snippet,_=h.some((function(e){return e.id===m}));return Object(u.jsxs)("div",{className:"card-details",children:[Object(u.jsx)("div",{className:"card-details__image",children:Object(u.jsx)("img",{src:"https://mate-academy.github.io/phone-catalogue-static/".concat(f),alt:p})}),Object(u.jsxs)("div",{className:"card-details__about",children:[Object(u.jsxs)("div",{className:"card-details__title",children:[Object(u.jsx)("span",{children:"Title :"})," ",p]}),Object(u.jsxs)("div",{className:"card-details__description",children:[Object(u.jsx)("span",{children:"Description:"})," ",v]}),Object(u.jsxs)("div",{className:"card-details__price",children:[Object(u.jsx)("span",{children:"Price:"})," $",x]}),Object(u.jsx)("button",{className:"card-details__button",onClick:function(e){b((function(e){return[].concat(Object(o.a)(e),[s])})),t(e)},disabled:!!_,children:_?"Is in Cart":"Buy"})]})]})}),k=function(e){var t=e.history;Object(a.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]);var c=function(e){e.target===e.currentTarget&&t.goBack()};return Object(u.jsx)("div",{className:"popup",onClick:c,children:Object(u.jsxs)("div",{className:"popup__content",children:[Object(u.jsx)("div",{className:"popup__closer",onClick:c,children:"  \u2715 "}),Object(u.jsx)(y,{handleClick:c})]})})},w=(c(47),function(e){var t=e.cart,c=e.setOpenCart,n=e.setCart,s=Object(a.useState)(!1),r=Object(l.a)(s,2),i=r[0],o=r[1];Object(a.useEffect)((function(){o(!0)}),[]);var j=function(e){e.target===e.currentTarget&&(o(!1),setTimeout((function(){c(!1)}),300))},d=t.reduce((function(e,t){return e+=t.price}),0);return Object(u.jsx)("div",{className:"cart",onClick:j,children:Object(u.jsxs)("div",{className:x()("cart__content",{"cart__content--is-active":i}),children:[Object(u.jsx)("div",{className:"cart__close",onClick:j,children:" \u2715"}),Object(u.jsx)("ul",{className:"cart__goods",children:t.length?t.map((function(e){return Object(u.jsxs)("li",{className:"cart__good",children:[Object(u.jsx)("span",{className:"cart__good-delete",onClick:function(){n((function(t){return t.filter((function(t){return t.id!==e.id}))}))},children:"\u274c"}),Object(u.jsx)(C,Object(O.a)({},e))]},e.age)})):Object(u.jsx)("h2",{children:"Cart is Empty"})}),Object(u.jsxs)("div",{className:"cart__info",children:[Object(u.jsxs)("div",{className:"cart__count-goods",children:[Object(u.jsx)("span",{children:"Count goods:"})," ",t.length]}),Object(u.jsxs)("div",{className:"cart__total-cost",children:[Object(u.jsx)("span",{children:"Total:"})," $",d.toFixed(2)]}),Object(u.jsx)("button",{className:"cart__button",disabled:!t.length,children:"Pay"})]})]})})}),F=n.a.createContext();var E=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),r=Object(l.a)(s,2),i=r[0],b=r[1],h=Object(a.useState)([]),O=Object(l.a)(h,2),m=O[0],p=O[1],x=Object(a.useState)([]),C=Object(l.a)(x,2),y=C[0],E=C[1],T=Object(a.useState)(!1),I=Object(l.a)(T,2),P=I[0],R=I[1],q=Object(j.h)(),L=new URLSearchParams(q.search),J=L.get("sort"),U=L.get("order"),B=L.get("query")||"";Object(a.useEffect)((function(){localStorage.mobiles||f().then((function(e){var t=JSON.stringify(e);localStorage.setItem("mobiles",t),localStorage.setItem("cart",[]),n(e)}));var e=localStorage.getItem("mobiles"),t=localStorage.getItem("cart"),c=JSON.parse(e),a=JSON.parse(t);n(c),E(a)}),[]),Object(a.useEffect)((function(){y.length&&localStorage.setItem("cart",JSON.stringify(y))}),[y]),Object(a.useEffect)((function(){var e;B?p((e=B,c.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})))):p([])}),[B]);var $,M,Q,A=($=(B?m:c)||[],M=J,Q=U,Object(o.a)($).sort((function(e,t){var c="asc"===Q?[e,t]:[t,e],a=Object(l.a)(c,2),n=a[0],s=a[1];return"price"===M?+n.price-+s.price:n.name.localeCompare(s.name)})));return Object(u.jsx)(F.Provider,{value:{mobiles:c,setOpenSearchField:b,setCart:E,cart:y},children:Object(u.jsxs)("div",{className:"App",children:[P&&Object(u.jsx)(w,{cart:y,setCart:E,setOpenCart:R}),Object(u.jsx)(j.b,{path:"/mobile/:mobileId",component:k}),Object(u.jsx)("div",{className:"header",children:Object(u.jsxs)("div",{className:"container",children:[!!i&&Object(u.jsx)(v,{setOpenSearchField:b}),Object(u.jsx)(N,{setOpenCart:R})]})}),Object(u.jsx)(j.b,{path:"/menu",component:d}),Object(u.jsx)("div",{className:"main",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"main__content",children:[Object(u.jsxs)("div",{className:"main__controlers",children:[Object(u.jsx)(g,{setQueryResult:p,setOpenSearchField:b,queryResult:m}),Object(u.jsx)(_,{})]}),Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.b,{path:"/:path",children:Object(u.jsx)(S,{mobiles:A})}),Object(u.jsx)(j.a,{from:"/",to:"/mobiles"}),Object(u.jsx)("h2",{children:"Page Not Found"})]})]})})}),Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"footer__content",children:"Footer"})})})]})})};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(E,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.f17ec498.chunk.js.map